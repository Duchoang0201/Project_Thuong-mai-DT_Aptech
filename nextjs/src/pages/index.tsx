import Head from "next/head";
import Image from "next/image";
import axios from "axios";
import { useRouter } from "next/router";
// import { Inter } from "next/font/google";
// import styles from "@/styles/Home.module.css";
// import NavBar from "@/compenents/Navbar/Navbar";
import "bootstrap/dist/css/bootstrap.min.css";

import { Swiper, SwiperSlide } from "swiper/react";
import "swiper/swiper.min.css";
import "swiper/css/pagination";
import { Pagination } from "swiper";
import NavBar from "@/compenents/Navbar/Navbar";

// import { img } from "../imgBanner";

type Props = {
  allProduct: any;
  // product: any;
};

const imgBanner = [
  "31-trangchu-tskc-1175x375.jpg",
  "32-trangchu-tscuoi-471x675.jpg",
  "33-trangchu-dojiwatch-580x350.jpg",
  "/Upload/banner/2023/02/bannerweb/32-trangchu-tscuoi-471x675.jpg",
];

export default function Home({ allProduct }: Props) {
  const imageLoader = (src: any) => {
    return `localhost:9000${src}}`;
  };
  imageLoader(
    `/uploads/products/641b0dfdb5b1ca7f1713e8ea/img-1682533076800-1682568987131--1-.jpg`
  );
  const router = useRouter();
  const handlePageId = (path: any) => {
    // router.push(`products/${product._id}`);
  };
  return (
    <>
      <Head>
        <title>my Shop</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main>
        hello shop Index
        {/* <Image
          src="http://localhost:9000/uploads/products/641b0dfdb5b1ca7f1713e8f0/9g4z1sbr-wallha-com.png"
          alt="Picture of the author"
          width={500}
          height={500}
        /> */}
        <div className="container">
          <div className="p-4 " style={{ height: "300px" }}>
            <Swiper
              slidesPerView={3}
              spaceBetween={30}
              pagination={{
                clickable: true,
              }}
              modules={[Pagination]}
              className=" w-100"
            >
              {imgBanner?.map((items: any, index: any) => {
                if (index <= 20)
                  return (
                    <>
                      <SwiperSlide className="m-3 w-25 ">
                        <Image
                          src={`http://localhost:9000/${items.imageUrl}`}
                          // src={items}
                          alt="Description of the image"
                          width={200}
                          height={200}
                          className="w-100 h-25"
                          onClick={() => handlePageId(`/products/${items._id}`)}
                          style={{ maxHeight: "180px", minHeight: "80px" }}
                        ></Image>
                        <p className="fs-6 ">{items.name}</p>
                      </SwiperSlide>
                    </>
                  );
              })}
            </Swiper>
          </div>
          <div></div>
          <div></div>
        </div>
      </main>
    </>
  );
}

export async function getStaticProps({ params }: any) {
  // const product = await axios.get(`http://localhost:9000/products/${params}`);
  const allProduct = await axios
    .get("http://localhost:9000/products")
    .then((response) => {
      return response.data;
    });
  return {
    props: { allProduct: allProduct }, // will be passed to the page component as props
  };
}
